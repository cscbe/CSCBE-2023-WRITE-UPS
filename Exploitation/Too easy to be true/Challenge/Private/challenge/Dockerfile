FROM alpine
RUN mkdir /app
COPY challenge /app
WORKDIR /app
RUN chmod +x challenge
RUN echo "FLAG{buff3r_0verfl0ws_4_th3_w1n}" > flag.txt
#RUN apt-get update && apt-get install socat -y
RUN apk add --no-cache socat
RUN mkdir /lib64 && ln -s /lib/libc.musl-x86_64.so.1 /lib64/ld-linux-x86-64.so.2
EXPOSE 1337
CMD socat -lm -d TCP4-LISTEN:1337,reuseaddr,fork EXEC:./challenge
